 %% 어제 레벨 세이브로드끝내고 버그 찾고있었음

 - 첫번째오류해결중) 왜 마젠타 화면만 나오고 배경이나 플레이어 텍스쳐는 하나도 안나오는가?
  - 어떤 에셋을 사용했는지를 저장한거지 재질이들고있던 파라미터는 다 날라간다. 
    재질의 파라미터가 하나도 설정안되있는 것이다.
  
    그래서 엔진용재질을 쓰면 안되고 경로에 직접 저장되어있는 에셋을 써야한다고 했다.
    (파일에 저장안되어있고 엔진에서 하드코딩으로 임시로 만든 에셋들을 써서 그렇다는 의미인듯)
   
  - 그래서 야매로 레벨로드하기전에 재질세팅하는 코드 넣어서 테스트 해봄 -> 잘됨!
  - 이 문제를 해결하려면 뭐 더 해야되는데 나중일. 지금은 야메로 잘되는거 확인한거임. 

 - 폰트같은경우는 외부라이브러리로 해결할겁니다.

 - 상태머신관련해서는 예전 API꺼 같다쓸것같다함.. 그리고 굳이 컴포넌트로 추가하지 말고(코드수정해야할게많아짐) 스크립트쪽으로 추가할것을 추천

 
 %% Prefab
  - 얘도 에셋중에 하나다.
  - Asset_Type에 PREFAB 추가

  - CPrefab 클래스
   - 맴버로 GameObject 하나를 들고있을 거다. 에셋인데 게임오브젝트를 들고있다고?
     모두가 공유하는 자원을 에셋이라고 했는데, 그렇다면 이 오브젝트도 자원으로 쓰여져 공유되는 용도로 쓰일것이다.

   - 미리 만들어 놓는 오브젝트를 프리팹이라고 한다.
     오브젝트 만들때마다 매번 재질설정하고, 기타 짜잘한거 만져주고 100만개 만들때마다 이런 설정해주기 귀찮으니까 붕어빵기계처럼 하나의 원형을 만들고싶다는 개념이다.
     이렇게 프리팹으로 저장된 오브젝트는 언제든지 클래스에서 객체 찍어내듯이 Spawn()호출해서 오브젝트를 만들어낸다.

  - Prefab으로 오브젝트의 정보를 저장하는것은 이전에 레벨을 Save할때 해야할 작업들과 겹치는 부분이 많다.
    
  - Prefab에서 오브젝트의 정보를 저장하는 기능을 자기가 구현해야되는데 참조순서가 말이 안되기 때문에 콜백개념을 이용할거다
   - Client쪽에서 SaveGameObject()라는 기능이 있는데 Client 쪽 함수를 Engine쪽 클래스인 Prefab이 참조하는건 말이 안된다.
     따라서 Prefab쪽에선 그냥 저장기능을 client가 직접 구현한걸 알아서 하라고 입구역할만 하게한다. 이 개념은 콜백함수를 통해 구현할수있음


  - 함수포인터 오류발생
    선생님이 typedef으로 함수포인터 자료형을 만들고 하니까 오류사라짐. 타입안만들고 쌩으로 쓸땐 오류났는데 이유는 몰름

  - 엔진쪽 extern파일에 ASSET_TYPE_STRING 에 Prefab 문자열추가. 
    이게 어디서 에셋타입을 문자열로 반환될때 쓰이는 문자열배열로보임

  - CPrefab::Save()함수
   - GAMEOBJECT_SAVE()라는 콜백함수가 미리 세팅안되있으면 assert.
   - 파일경로설정하고 파일열어서 콜백함수 호출로 해당 오브젝트정보를 저장.
 
  %% 지금 미사일을 하드코딩으로 만들어쏘고있는데 
     프리팹으로 만들어서 쏴보자

  $$ main 파일에 프리팹 save load하는 함수 입력시켜주는 부분있음
==========================================================================================================================



 - ? 이제 스페이스 누르면 프리팹에 등록되어있는 앨 스폰하는 기능으로 바꿀꺼라고 하는데?? 이게 무슨뜻일까

 - CCreateTempleLevel.cpp 에서 미사일 설정하는 코드가 있고, 
   그 밑에 추가로 미사일에 관련되 프리팹을 만든다.
  - new prefab(pObj) 해서 미리세팅해논 미사일오브젝트(pObj)를 인자로주고,
    AddAsset()해서 자원으로 추가시켜주면되네 
  - 이제 플레이어 스크립트의 begin()에 미리 미사일프리팹에 대한걸 불러와 놓고있다가 
    space 키 입력시에 원하는 위치에 스폰시키면된다.

 - CScript.h에 자주사용하는 프리팹 바로 만들어주는 기능을 하는 함수추가
  - Instatiate()함수
   - 인자로 프리팹, 프리팹오브젝트스폰위치, 프리팹오브젝트가 어디레이어에 들어갈지 총3개
   - 프리팹에 또 따로 Instatiate()함수 따로 둔다.
     여기서는 m_ProtObj에 저장된 오브젝트 clone()하고 반환.
  
   - 프리팹이 반환해준 오브젝트를 받아서 할거함

 
 -? '프리팹은 클론제거해놓고' 라며 CLONE_DISABLE(CPrefab) 적어줌 정확한 의미 파악할것

 - SetGameObject()함수
  - 이전에 m_ProtObject에 미리 등록되어있던 오브젝트 제거함 


 - 프리팹은 어떤 레벨에 속해있는애가 아니라 원본을 들고있는애라서 leak 직접 없애줘야함

 - 이제 물체 만들때마다 매번 하드코딩하지말고 프리팹으로 참조하고 있다가 Instantiate으로 생성만 시켜주면됩니다.

 - 지금은 미사일을 하드코딩해서 구현했지만 나중엔 미사일을 파일로 저장시켜 놨다면
   나중엔 단 한줄로 미사일프리팹을 가져올수있다.
   
   파일로 저장안되있을떄 -> 미사일하드코딩하고 에셋등록하고 파일로세이브까지 직접함(CTempLevel에 그 부분있으니 확인하세요)
          저장되있을때   -> 플레이어 스크립트에서 CAssetMgr::Getinst()->Load<Prefab>(); 이거 한줄로 사용가능


 - 여러분이 프리팹기능을 제일 많이 써야되요 포폴할떄. 아니면 노가다를 정말 많이 하셔야합니다.

 - FMOD나 폰트같은건 하루만에 끝나는거라 시간많이 남을듯~